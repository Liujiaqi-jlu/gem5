功耗分析
在四核下运行benchmark blackscholes测试程序集。利用得到stats和config计算出功耗，功耗信息存在着mcpat-out.xml。
功耗主要分为5部分：core0、core1、core2、core3、l2cache。
对于整个系统：4核、timing模式、l2cache。其中l1dcache=32kb、l1icache=32kb、l2cache=256kb.
对于每一部分：有几部分指标：
亚阈值漏电功率（subthreshold leakage power）：指由阈值电压引起的功率泄露。
栅极（门）功率泄露（gate leakage power）：门电流引起的功率泄漏。
峰值功率（peak dynamic power）：某时间段内的最高功率
运行时动态功率（runtime dynamic power）：即为平均功率
运行时动态能耗（runtime dynamic energy）：运行时产生的能耗，即运行时功率*运行时间。
总运行时能耗（total runtime energy）：包含两部分，动态功耗+其他部分的功耗（主要为泄漏的）。
对于core：
1.指令获取单元（instruction fetch unit）:
	1)指令缓存（Instruction cache）:
		数据和标志位数组（data and tag arrays）、没取到的缓存（miss buffer）、填充缓存（fill buffer）、预取缓存（prefetch buffer）
	2）指令缓存区（instruction buffer）:
	3）指令操作码译码（Instruction opcode decoder）
	4）指令操作数译码(Instruction operand decoder)
	5）指令微代码译码(Instruction microcode decoder)

2.数据存取单元(load/store unit):
	1)数据缓存（data cache）:
		数据和标志位数组（data and tag arrays）、没取到的缓存（miss buffer）、填充缓存（fill buffer）、预取缓存（prefetch buffer）
	2)存储队列（store queue）

3.内存控制单元（memory management unit）：
	1）指令的传输后备缓存器（Instruction TLB）：用于改善虚拟地址到物理地址寻址速度的缓存，针对指令。
	2）数据的传输后备缓存器（Data TLB）:同上，针对数据。

4.执行单元（execution unit）
	1)整形数据（Int bypass data）
	2)整形标志位（Int bypass tag）
	3）浮点数据（fp bypass data）
	4)浮点标志位（FP bypass tag）
	5) 寄存器单元（register file unit）:
		整形寄存器、浮点寄存器
	6）整形的逻辑计算单元（Integer ALU）
	7)浮点单元（Floating Point Unit）
	8）乘法数据（Mul Bypass Data）
	9)乘法标志位（Mul Bypass Tag）
	10）乘除单元（Multiply/divide unit）

5.未分化核（Undifferentitated core）：会造成泄漏功耗。

6.流水线（pipeline）：流水线本身的功耗

L2 Cache
1.数据和标志位数组（Data and Tag Arrays）

2.未取到缓存（Miss Buffer）

3.填充的缓存（fill Buffer）

4.预取缓存（prefetch Buffer）


那么系统的总功耗就是core1~4的总功耗加上l2cache的功耗。


策略：
对这四核、l2cache的情况来说，综上可知，在计算功耗的时候每个核都是一样的，而且数据类型都是一样的，那么在优化的时候可以不用考虑具体的功耗值，只需要比较功耗值的相对性，用图表展示提升。
